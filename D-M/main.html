<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>SCP - Medical Record System</title>
    <style>
        :root {
            --scp-blue: #2a4d69;
            --scp-medical: #e1f5fe;
            --scp-accent: #0288d1;
            --danger: #d32f2f;
            --bg-body: #f0f2f5;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg-body); 
            color: #333; 
            margin: 0;
            padding: 20px;
        }

        .container { 
            max-width: 1000px; 
            margin: auto; 
            background: white; 
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            overflow: hidden;
            border: 1px solid #dcdfe3;
        }

        header { 
            background: var(--scp-blue); 
            color: white; 
            padding: 20px; 
            text-align: left;
            border-bottom: 4px solid var(--scp-accent);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 { margin: 0; font-size: 1.5rem; letter-spacing: 1px; }
        .status-badge { background: var(--danger); padding: 5px 10px; font-size: 0.8rem; border-radius: 4px; font-weight: bold; }

        .menu { 
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 2px;
            background: #dcdfe3;
            border-bottom: 1px solid #ccc;
        }

        button.nav-btn { 
            background: #fff; 
            color: var(--scp-blue); 
            border: none; 
            padding: 15px 5px; 
            cursor: pointer; 
            font-weight: 600;
            transition: all 0.2s;
            text-transform: uppercase;
            font-size: 0.75rem;
        }

        button.nav-btn:hover { background: var(--scp-medical); color: var(--scp-accent); }
        button.nav-btn.active { background: var(--scp-accent); color: white; }

        .content-area { padding: 30px; }
        .form-section { display: none; animation: fadeIn 0.3s; }
        .form-section.active { display: block; }

        h2 { border-left: 5px solid var(--scp-accent); padding-left: 15px; color: var(--scp-blue); margin-bottom: 25px; font-size: 1.2rem; }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-group { margin-bottom: 15px; }
        .full-width { grid-column: span 2; }

        label { display: block; font-size: 0.75rem; font-weight: bold; color: #666; margin-bottom: 5px; text-transform: uppercase; }
        input, textarea, select { 
            width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; 
            background: #fafafa; font-size: 0.95rem; box-sizing: border-box;
        }

        input:focus, textarea:focus { outline: none; border-color: var(--scp-accent); background: #fff; }

        #output { 
            margin-top: 30px; padding: 25px; border: 1px solid #000;
            font-family: 'Courier New', monospace; position: relative;
            display: none; line-height: 1.4; white-space: pre-wrap; background: #fff;
        }

        .gen-btn { 
            background: var(--scp-accent); color: white; padding: 12px 25px; 
            border: none; border-radius: 4px; cursor: pointer; font-weight: bold; margin-top: 10px;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="container">
    <header>
        <div>
            <h1>S.C.P. FOUNDATION</h1>
            <small>SYSTÈME MÉDICAL CENTRALISÉ - SITE-19</small>
        </div>
        <div class="status-badge">ACCÈS RESTREINT : NIVEAU 4</div>
    </header>

    <div class="menu">
        <button class="nav-btn" onclick="showForm('imagerie', this)">Imagerie</button>
        <button class="nav-btn" onclick="showForm('deces', this)">Décès</button>
        <button class="nav-btn" onclick="showForm('operation', this)">Opération</button>
        <button class="nav-btn" onclick="showForm('soins', this)">Soins</button>
        <button class="nav-btn" onclick="showForm('prescription', this)">Prescription</button>
        <button class="nav-btn" onclick="showForm('consultation', this)">Consultation</button>
    </div>

    <div class="content-area">
        <section id="imagerie" class="form-section">
            <h2>Rapport d'Imagerie Médicale</h2>
            <div class="form-grid">
                <div class="form-group"><label>Médecin</label><input id="img-soignant"></div>
                <div class="form-group"><label>Accréditation</label><input id="img-grade"></div>
                <div class="form-group"><label>Sujet</label><input id="img-patient"></div>
                <div class="form-group"><label>Zone d'examen</label><input id="img-zone"></div>
                <div class="form-group full-width"><label>Résultats I.R.M / Scanner</label><textarea id="img-irm" rows="3"></textarea></div>
                <div class="form-group full-width"><label>Observations</label><input id="img-suite"></div>
            </div>
            <button class="gen-btn" onclick="generateReport('imagerie')">GÉNÉRER RAPPORT</button>
        </section>

        <section id="deces" class="form-section">
            <h2>Constat de Décès</h2>
            <div class="form-grid">
                <div class="form-group"><label>Médecin Légiste</label><input id="dec-pro"></div>
                <div class="form-group"><label>Défunt (ID/Matricule)</label><input id="dec-defunt"></div>
                <div class="form-group full-width"><label>Causes du décès (Létales/Anormales)</label><textarea id="dec-cause" rows="3"></textarea></div>
                <div class="form-group full-width"><label>Substances détectées / Produits utilisés</label><input id="dec-prod"></div>
            </div>
            <button class="gen-btn" onclick="generateReport('deces')">GÉNÉRER CONSTAT</button>
        </section>

        <section id="operation" class="form-section">
            <h2>Rapport de Chirurgie</h2>
            <div class="form-grid">
                <div class="form-group"><label>Chirurgien Principal</label><input id="op-chir"></div>
                <div class="form-group"><label>Patient</label><input id="op-patient"></div>
                <div class="form-group full-width"><label>Type d'intervention</label><input id="op-type"></div>
                <div class="form-group full-width"><label>Protocole Opératoire</label><textarea id="op-compte" rows="4"></textarea></div>
                <div class="form-group"><label>État Post-Opératoire</label><input id="op-etat"></div>
            </div>
            <button class="gen-btn" onclick="generateReport('operation')">GÉNÉRER COMPTE-RENDU</button>
        </section>

        <section id="soins" class="form-section">
            <h2>Rapport de Soins Quotidiens</h2>
            <div class="form-grid">
                <div class="form-group"><label>Infirmier / Personnel</label><input id="soin-pers"></div>
                <div class="form-group"><label>Patient</label><input id="soin-patient"></div>
                <div class="form-group full-width"><label>Description des Soins</label><textarea id="soin-desc" rows="3"></textarea></div>
                <div class="form-group full-width"><label>Observations comportementales</label><textarea id="soin-obs" rows="2"></textarea></div>
            </div>
            <button class="gen-btn" onclick="generateReport('soins')">GÉNÉRER RAPPORT</button>
        </section>

        <section id="prescription" class="form-section">
            <h2>Prescription Médicale</h2>
            <div class="form-grid">
                <div class="form-group"><label>Médecin Prescripteur</label><input id="pre-med"></div>
                <div class="form-group"><label>Patient</label><input id="pre-patient"></div>
                <div class="form-group full-width"><label>Traitements / Amnésiques</label><textarea id="pre-medoc" rows="3"></textarea></div>
                <div class="form-group"><label>Posologie & Durée</label><input id="pre-duree"></div>
            </div>
            <button class="gen-btn" onclick="generateReport('prescription')">GÉNÉRER ORDONNANCE</button>
        </section>

        <section id="consultation" class="form-section">
            <h2>Rapport de Consultation</h2>
            <div class="form-grid">
                <div class="form-group"><label>Praticien</label><input id="con-med"></div>
                <div class="form-group"><label>Patient</label><input id="con-patient"></div>
                <div class="form-group full-width"><label>Motif de la visite</label><input id="con-motif"></div>
                <div class="form-group full-width"><label>Diagnostic Final</label><textarea id="con-diag" rows="4"></textarea></div>
            </div>
            <button class="gen-btn" onclick="generateReport('consultation')">GÉNÉRER BILAN</button>
        </section>

        <div id="output"></div>
        <button id="btn-print" class="gen-btn" style="display:none; background: #333;" onclick="window.print()">IMPRIMER / SAUVEGARDER PDF</button>
    </div>
</div>

<script>
function showForm(id, btn) {
    document.querySelectorAll('.form-section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    if(btn) btn.classList.add('active');
    document.getElementById('output').style.display = 'none';
    document.getElementById('btn-print').style.display = 'none';
}

function generateReport(type) {
    const d = new Date().toLocaleString('fr-FR');
    const v = id => document.getElementById(id).value;
    const separator = "------------------------------------------";
    let c = `FONDATION SCP - DÉPARTEMENT MÉDICAL\n${separator}\n`;
    c += `DATE DU RAPPORT : ${d}\n`;
    c += `ID LOG : ${Math.random().toString(36).substr(2, 9).toUpperCase()}\n${separator}\n\n`;

    if (type === "imagerie") {
        c += `TYPE : IMAGERIE MÉDICALE\nPATIENT : ${v("img-patient")}\nMÉDECIN : ${v("img-soignant")} (${v("img-grade")})\nZONE : ${v("img-zone")}\n\nRÉSULTATS :\n${v("img-irm")}\n\nOBSERVATIONS :\n${v("img-suite")}`;
    } else if (type === "deces") {
        c += `TYPE : CONSTAT DE DÉCÈS\nDÉFUNT : ${v("dec-defunt")}\nPRATICIEN : ${v("dec-pro")}\n\nCAUSES :\n${v("dec-cause")}\n\nPRODUITS/SUBSTANCES :\n${v("dec-prod")}`;
    } else if (type === "operation") {
        c += `TYPE : RAPPORT CHIRURGICAL\nPATIENT : ${v("op-patient")}\nCHIRURGIEN : ${v("op-chir")}\nINTERVENTION : ${v("op-type")}\n\nCOMPTE-RENDU :\n${v("op-compte")}\n\nÉTAT POST-OP : ${v("op-etat")}`;
    } else if (type === "soins") {
        c += `TYPE : RAPPORT DE SOINS\nPATIENT : ${v("soin-patient")}\nPERSONNEL : ${v("soin-pers")}\n\nSOINS APPLIQUÉS :\n${v("soin-desc")}\n\nOBSERVATIONS :\n${v("soin-obs")}`;
    } else if (type === "prescription") {
        c += `TYPE : PRESCRIPTION\nPATIENT : ${v("pre-patient")}\nMÉDECIN : ${v("pre-med")}\n\nMÉDICAMENTS :\n${v("pre-medoc")}\n\nPOSOLOGIE :\n${v("pre-duree")}`;
    } else if (type === "consultation") {
        c += `TYPE : BILAN DE CONSULTATION\nPATIENT : ${v("con-patient")}\nMÉDECIN : ${v("con-med")}\nMOTIF : ${v("con-motif")}\n\nDIAGNOSTIC :\n${v("con-diag")}`;
    }

    c += `\n\n${separator}\nSÉCURISER. CONTENIR. PROTÉGER.`;
    
    const o = document.getElementById("output");
    o.innerText = c;
    o.style.display = "block";
    document.getElementById("btn-print").style.display = "block";
    o.scrollIntoView({behavior: "smooth"});
}

// Activer le premier onglet par défaut
document.addEventListener('DOMContentLoaded', () => {
    showForm('imagerie', document.querySelector('.nav-btn'));
});
</script>

</body>
</html>